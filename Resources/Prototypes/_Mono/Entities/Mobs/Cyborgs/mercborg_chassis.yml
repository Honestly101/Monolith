# SPDX-FileCopyrightText: 2025 Honestly101
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  id: BorgChassisMercenary
  parent: BaseBorgChassis
  name: mercenary assault cyborg
  description: A lean, mean, bullet making machine with access to a variety of deadly modules.
  components:
  - type: Sprite
    sprite: _Mono/Mobs/Silicon/chassis.rsi
    layers:
    - state: merc_sec
    - state: merc_sec_e
      map: ["enum.BorgVisualLayers.Light"]
      shader: unshaded
      visible: false
    - state: merc_sec_l
      shader: unshaded
      map: ["light"]
      visible: false
  - type: MobThresholds
    thresholds:
      0: Alive
      200: Critical
      300: Dead
  - type: Damageable
    damageContainer: Silicon
    damageModifierSet: BorgChassisMercenary
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 150
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          path: /Audio/Machines/warning_buzzer.ogg
          params:
            volume: 5
    - trigger:
        !type:DamageTrigger
         damage: 400
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:EmptyContainersBehaviour
        containers:
        - borg_brain
        - borg_module
        - cell_slot
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: BorgChassis
    maxModules: 5
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
      - BorgModuleMercenary
    hasMindState: merc_sec_e
    noMindState: merc_sec
  - type: Construction
    graph: MercenaryCyborg
    node: mercenarycyborg
  - type: InteractionPopup
    interactSuccessString: petting-success-mercenary-cyborg
    interactFailureString: petting-failure-mercenary-cyborg
    interactSuccessSound:
      path: /Audio/Ambience/Objects/periodic_beep.ogg

- type: entity
  id: BorgChassisMercenaryBattery
  parent: BorgChassisMercenary
  suffix: Battery, Module
  components:
  - type: ContainerFill
    containers:
      borg_brain:
        - PositronicBrain
      borg_module:
      - BorgModuleTool
      - BorgModuleMercenary
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default
        startingItem: PowerCellHyper
